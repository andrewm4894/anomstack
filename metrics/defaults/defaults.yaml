# default values to be applied to all batches unless overridden in metric batch specific yaml files.
db: "duckdb" # database type to use.
table_key: "tmp.metrics" # table to store metrics in.
disable_batch: False # if you want to disable a metric batch for some reason.
train_max_n: 1000 # max number of observations for training a model.
train_min_n: 14 # min number of observations for training a model.
score_max_n: 10 # max n to pull for scoring to avoid pulling more than needed.
alert_max_n: 30 # max n to include and plot in an alert.
alert_metric_timestamp_max_days_ago: 1 # don't alert on metrics older than this.
alert_recent_n: 5 # only alert on recent n so as to avoid continually alerting.
alert_smooth_n: 3 # smooth anomaly score over rolling n to avoid being too trigger happy.
alert_threshold: 0.8 # threshold for smoothed anomaly score above which to alert on.
alert_always: True # if True, always send alerts, even if no anomalies.
preprocess_diff_n: 1 # 1 will use diff, 0 will use raw metric values.
preprocess_smooth_n: 3 # how much smoothing to apply in preprocessing.
preprocess_lags_n: 3 # how many lags to include in feature vector.
ingest_cron_schedule: "*/3 * * * *" # cron schedule for ingest jobs
train_cron_schedule: "*/5 * * * *" # cron schedule for training jobs
score_cron_schedule: "*/4 * * * *" # cron schedule for scoring jobs
alert_cron_schedule: "*/5 * * * *" # cron schedule for alerting jobs
# default templated train sql
train_sql: >
  {% include "./defaults/sql/train.sql" %}
# default templated score sql
score_sql: >
  {% include "./defaults/sql/score.sql" %}
# default templated alert sql
alert_sql: >
  {% include "./defaults/sql/alerts.sql" %}
