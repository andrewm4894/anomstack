<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-configuration/environment-variables" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Environment Variables | Anomstack</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://andrewm4894.github.io/anomstack/docs/configuration/environment-variables"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Environment Variables | Anomstack"><meta data-rh="true" name="description" content="This page documents all environment variables available in Anomstack. Copy the .example.env file to .env and configure the variables you need."><meta data-rh="true" property="og:description" content="This page documents all environment variables available in Anomstack. Copy the .example.env file to .env and configure the variables you need."><link data-rh="true" rel="canonical" href="https://andrewm4894.github.io/anomstack/docs/configuration/environment-variables"><link data-rh="true" rel="alternate" href="https://andrewm4894.github.io/anomstack/docs/configuration/environment-variables" hreflang="en"><link data-rh="true" rel="alternate" href="https://andrewm4894.github.io/anomstack/docs/configuration/environment-variables" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Environment Variables","item":"https://andrewm4894.github.io/anomstack/docs/configuration/environment-variables"}]}</script><link rel="stylesheet" href="/anomstack/assets/css/styles.efde3f45.css">
<script src="/anomstack/assets/js/runtime~main.743c0d52.js" defer="defer"></script>
<script src="/anomstack/assets/js/main.bba3b8d9.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/anomstack/"><b class="navbar__title text--truncate">Anomstack</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/anomstack/docs/intro">Docs</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/andrewm4894/anomstack" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/anomstack/docs/intro">Getting Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/anomstack/docs/features/metrics">Core Features</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/anomstack/docs/data-sources">Data Sources</a><button aria-label="Expand sidebar category &#x27;Data Sources&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/anomstack/docs/gcs">Storage</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/anomstack/docs/deployment/overview">Deployment</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/anomstack/docs/configuration/environment-variables">Configuration</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/anomstack/docs/configuration/environment-variables">Environment Variables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/anomstack/docs/configuration/metrics">Metrics Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/anomstack/docs/configuration/hot-reload">Hot Configuration Updates</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/anomstack/docs/graphql/">API Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/anomstack/docs/miscellaneous/scripts-utilities">Miscellaneous</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/anomstack/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Configuration</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Environment Variables</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Environment Variables</h1></header>
<p>This page documents all environment variables available in Anomstack. Copy the <a href="https://github.com/andrewm4894/anomstack/blob/main/.example.env" target="_blank" rel="noopener noreferrer"><code>.example.env</code></a> file to <code>.env</code> and configure the variables you need.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cp .example.env .env</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="️-database--data-sources">🗄️ Database &amp; Data Sources<a href="#️-database--data-sources" class="hash-link" aria-label="Direct link to 🗄️ Database &amp; Data Sources" title="Direct link to 🗄️ Database &amp; Data Sources">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="google-cloud-platform">Google Cloud Platform<a href="#google-cloud-platform" class="hash-link" aria-label="Direct link to Google Cloud Platform" title="Direct link to Google Cloud Platform">​</a></h3>
<p>Configure access to BigQuery and Google Cloud Storage.</p>
<table><thead><tr><th>Variable</th><th>Required</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td><code>ANOMSTACK_GOOGLE_APPLICATION_CREDENTIALS</code></td><td>No</td><td>Path to GCP service account JSON file</td><td><code>/path/to/credentials.json</code></td></tr><tr><td><code>ANOMSTACK_GOOGLE_APPLICATION_CREDENTIALS_JSON</code></td><td>No</td><td>GCP credentials as JSON string (alternative to file path)</td><td><code>{&quot;type&quot;: &quot;service_account&quot;, ...}</code></td></tr><tr><td><code>ANOMSTACK_GCP_PROJECT_ID</code></td><td>No</td><td>Google Cloud Project ID for BigQuery</td><td><code>my-project-123</code></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="snowflake">Snowflake<a href="#snowflake" class="hash-link" aria-label="Direct link to Snowflake" title="Direct link to Snowflake">​</a></h3>
<p>Connect to Snowflake data warehouse.</p>
<table><thead><tr><th>Variable</th><th>Required</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td><code>ANOMSTACK_SNOWFLAKE_ACCOUNT</code></td><td>No</td><td>Snowflake account identifier</td><td><code>xy12345.us-east-1</code></td></tr><tr><td><code>ANOMSTACK_SNOWFLAKE_USER</code></td><td>No</td><td>Snowflake username</td><td><code>anomstack_user</code></td></tr><tr><td><code>ANOMSTACK_SNOWFLAKE_PASSWORD</code></td><td>No</td><td>Snowflake password</td><td><code>your-password</code></td></tr><tr><td><code>ANOMSTACK_SNOWFLAKE_WAREHOUSE</code></td><td>No</td><td>Snowflake warehouse name</td><td><code>ANOMSTACK_WH</code></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws">AWS<a href="#aws" class="hash-link" aria-label="Direct link to AWS" title="Direct link to AWS">​</a></h3>
<p>Connect to S3 and other AWS services.</p>
<table><thead><tr><th>Variable</th><th>Required</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td><code>ANOMSTACK_AWS_ACCESS_KEY_ID</code></td><td>No</td><td>AWS access key ID</td><td><code>AKIAIOSFODNN7EXAMPLE</code></td></tr><tr><td><code>ANOMSTACK_AWS_SECRET_ACCESS_KEY</code></td><td>No</td><td>AWS secret access key</td><td><code>wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY</code></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="clickhouse">ClickHouse<a href="#clickhouse" class="hash-link" aria-label="Direct link to ClickHouse" title="Direct link to ClickHouse">​</a></h3>
<p>Connect to ClickHouse database.</p>
<table><thead><tr><th>Variable</th><th>Required</th><th>Description</th><th>Default</th><th>Example</th></tr></thead><tbody><tr><td><code>ANOMSTACK_CLICKHOUSE_HOST</code></td><td>No</td><td>ClickHouse host</td><td><code>localhost</code></td><td><code>clickhouse.example.com</code></td></tr><tr><td><code>ANOMSTACK_CLICKHOUSE_PORT</code></td><td>No</td><td>ClickHouse port</td><td><code>8123</code></td><td><code>8123</code></td></tr><tr><td><code>ANOMSTACK_CLICKHOUSE_USER</code></td><td>No</td><td>ClickHouse username</td><td><code>anomstack</code></td><td><code>admin</code></td></tr><tr><td><code>ANOMSTACK_CLICKHOUSE_PASSWORD</code></td><td>No</td><td>ClickHouse password</td><td><code>anomstack</code></td><td><code>your-password</code></td></tr><tr><td><code>ANOMSTACK_CLICKHOUSE_DATABASE</code></td><td>No</td><td>ClickHouse database</td><td><code>default</code></td><td><code>metrics</code></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="motherduck--turso">MotherDuck &amp; Turso<a href="#motherduck--turso" class="hash-link" aria-label="Direct link to MotherDuck &amp; Turso" title="Direct link to MotherDuck &amp; Turso">​</a></h3>
<p>Enhanced DuckDB and SQLite services.</p>
<table><thead><tr><th>Variable</th><th>Required</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td><code>ANOMSTACK_MOTHERDUCK_TOKEN</code></td><td>No</td><td>MotherDuck authentication token</td><td><code>your-motherduck-token</code></td></tr><tr><td><code>ANOMSTACK_TURSO_DATABASE_URL</code></td><td>No</td><td>Turso database URL</td><td><code>libsql://your-db.turso.io</code></td></tr><tr><td><code>ANOMSTACK_TURSO_AUTH_TOKEN</code></td><td>No</td><td>Turso authentication token</td><td><code>your-turso-token</code></td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-storage-configuration">💾 Storage Configuration<a href="#-storage-configuration" class="hash-link" aria-label="Direct link to 💾 Storage Configuration" title="Direct link to 💾 Storage Configuration">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="database-paths">Database Paths<a href="#database-paths" class="hash-link" aria-label="Direct link to Database Paths" title="Direct link to Database Paths">​</a></h3>
<p>Configure where metrics and metadata are stored.</p>
<table><thead><tr><th>Variable</th><th>Required</th><th>Description</th><th>Docker Default</th><th>Local Default</th></tr></thead><tbody><tr><td><code>ANOMSTACK_DUCKDB_PATH</code></td><td>No</td><td>DuckDB database path</td><td><code>/data/anomstack.db</code></td><td><code>tmpdata/anomstack-duckdb.db</code></td></tr><tr><td><code>ANOMSTACK_SQLITE_PATH</code></td><td>No</td><td>SQLite database path</td><td><code>tmpdata/anomstack-sqlite.db</code></td><td><code>tmpdata/anomstack-sqlite.db</code></td></tr><tr><td><code>ANOMSTACK_TABLE_KEY</code></td><td>No</td><td>Table identifier for metrics</td><td><code>tmp.metrics</code></td><td><code>production.metrics</code></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="model-storage">Model Storage<a href="#model-storage" class="hash-link" aria-label="Direct link to Model Storage" title="Direct link to Model Storage">​</a></h3>
<p>Configure where trained ML models are stored.</p>
<table><thead><tr><th>Variable</th><th>Required</th><th>Description</th><th>Examples</th></tr></thead><tbody><tr><td><code>ANOMSTACK_MODEL_PATH</code></td><td>No</td><td>Model storage location</td><td><code>local://./tmp/models</code><br><code>gs://your-bucket/models</code><br><code>s3://your-bucket/models</code></td></tr></tbody></table>
<p><strong>Storage Options:</strong></p>
<ul>
<li><strong>Local</strong>: <code>local://./tmp/models</code> (default)</li>
<li><strong>Google Cloud Storage</strong>: <code>gs://your-bucket/models</code></li>
<li><strong>AWS S3</strong>: <code>s3://your-bucket/models</code></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="application-paths">Application Paths<a href="#application-paths" class="hash-link" aria-label="Direct link to Application Paths" title="Direct link to Application Paths">​</a></h3>
<p>Internal directory configuration.</p>
<table><thead><tr><th>Variable</th><th>Required</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td><code>ANOMSTACK_HOME</code></td><td>No</td><td>Home directory for Anomstack</td><td><code>.</code> (current directory)</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-alert-configuration">📧 Alert Configuration<a href="#-alert-configuration" class="hash-link" aria-label="Direct link to 📧 Alert Configuration" title="Direct link to 📧 Alert Configuration">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="email-alerts">Email Alerts<a href="#email-alerts" class="hash-link" aria-label="Direct link to Email Alerts" title="Direct link to Email Alerts">​</a></h3>
<p>Configure email notifications for anomalies.</p>
<table><thead><tr><th>Variable</th><th>Required</th><th>Description</th><th>Default</th><th>Example</th></tr></thead><tbody><tr><td><code>ANOMSTACK_ALERT_EMAIL_FROM</code></td><td>No</td><td>Sender email address</td><td></td><td><code>alerts@yourcompany.com</code></td></tr><tr><td><code>ANOMSTACK_ALERT_EMAIL_TO</code></td><td>No</td><td>Recipient email address</td><td></td><td><code>team@yourcompany.com</code></td></tr><tr><td><code>ANOMSTACK_ALERT_EMAIL_SMTP_HOST</code></td><td>No</td><td>SMTP server host</td><td><code>smtp.gmail.com</code></td><td><code>smtp.office365.com</code></td></tr><tr><td><code>ANOMSTACK_ALERT_EMAIL_SMTP_PORT</code></td><td>No</td><td>SMTP server port</td><td><code>587</code></td><td><code>25</code></td></tr><tr><td><code>ANOMSTACK_ALERT_EMAIL_PASSWORD</code></td><td>No</td><td>Email password/app token</td><td></td><td><code>your-app-password</code></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="failure-email-alerts">Failure Email Alerts<a href="#failure-email-alerts" class="hash-link" aria-label="Direct link to Failure Email Alerts" title="Direct link to Failure Email Alerts">​</a></h3>
<p>Separate email configuration for job failures.</p>
<table><thead><tr><th>Variable</th><th>Required</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td><code>ANOMSTACK_FAILURE_EMAIL_FROM</code></td><td>No</td><td>Sender for failure alerts</td><td><code>failures@yourcompany.com</code></td></tr><tr><td><code>ANOMSTACK_FAILURE_EMAIL_TO</code></td><td>No</td><td>Recipient for failure alerts</td><td><code>ops@yourcompany.com</code></td></tr><tr><td><code>ANOMSTACK_FAILURE_EMAIL_SMTP_HOST</code></td><td>No</td><td>SMTP host for failures</td><td><code>smtp.gmail.com</code></td></tr><tr><td><code>ANOMSTACK_FAILURE_EMAIL_SMTP_PORT</code></td><td>No</td><td>SMTP port for failures</td><td><code>587</code></td></tr><tr><td><code>ANOMSTACK_FAILURE_EMAIL_PASSWORD</code></td><td>No</td><td>Email password for failures</td><td><code>your-app-password</code></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="slack-alerts">Slack Alerts<a href="#slack-alerts" class="hash-link" aria-label="Direct link to Slack Alerts" title="Direct link to Slack Alerts">​</a></h3>
<p>Configure Slack notifications.</p>
<table><thead><tr><th>Variable</th><th>Required</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td><code>ANOMSTACK_SLACK_BOT_TOKEN</code></td><td>No</td><td>Slack bot token</td><td><code>xoxb-your-bot-token</code></td></tr><tr><td><code>ANOMSTACK_SLACK_CHANNEL</code></td><td>No</td><td>Slack channel for alerts</td><td><code>#anomaly-alerts</code></td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-llm-integration">🤖 LLM Integration<a href="#-llm-integration" class="hash-link" aria-label="Direct link to 🤖 LLM Integration" title="Direct link to 🤖 LLM Integration">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="openai">OpenAI<a href="#openai" class="hash-link" aria-label="Direct link to OpenAI" title="Direct link to OpenAI">​</a></h3>
<p>Configure AI-powered anomaly detection and alerts.</p>
<table><thead><tr><th>Variable</th><th>Required</th><th>Description</th><th>Default</th><th>Example</th></tr></thead><tbody><tr><td><code>ANOMSTACK_OPENAI_KEY</code></td><td>No</td><td>OpenAI API key</td><td></td><td><code>sk-...</code></td></tr><tr><td><code>OPENAI_API_KEY</code></td><td>No</td><td>Alternative OpenAI API key</td><td></td><td><code>sk-...</code></td></tr><tr><td><code>ANOMSTACK_OPENAI_MODEL</code></td><td>No</td><td>OpenAI model to use</td><td><code>gpt-4o-mini</code></td><td><code>gpt-4o</code></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="anthropic">Anthropic<a href="#anthropic" class="hash-link" aria-label="Direct link to Anthropic" title="Direct link to Anthropic">​</a></h3>
<p>Alternative LLM provider.</p>
<table><thead><tr><th>Variable</th><th>Required</th><th>Description</th><th>Default</th><th>Example</th></tr></thead><tbody><tr><td><code>ANOMSTACK_ANTHROPIC_KEY</code></td><td>No</td><td>Anthropic API key</td><td></td><td><code>sk-ant-...</code></td></tr><tr><td><code>ANOMSTACK_ANTHROPIC_MODEL</code></td><td>No</td><td>Anthropic model</td><td><code>claude-3-haiku-20240307</code></td><td><code>claude-3-sonnet-20240229</code></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="llm-platform-selection">LLM Platform Selection<a href="#llm-platform-selection" class="hash-link" aria-label="Direct link to LLM Platform Selection" title="Direct link to LLM Platform Selection">​</a></h3>
<table><thead><tr><th>Variable</th><th>Required</th><th>Description</th><th>Default</th><th>Options</th></tr></thead><tbody><tr><td><code>ANOMSTACK_LLM_PLATFORM</code></td><td>No</td><td>Which LLM provider to use</td><td><code>openai</code></td><td><code>openai</code>, <code>anthropic</code></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="langsmith-tracing">LangSmith Tracing<a href="#langsmith-tracing" class="hash-link" aria-label="Direct link to LangSmith Tracing" title="Direct link to LangSmith Tracing">​</a></h3>
<p>Optional LLM call tracing and monitoring.</p>
<table><thead><tr><th>Variable</th><th>Required</th><th>Description</th><th>Default</th><th>Example</th></tr></thead><tbody><tr><td><code>LANGSMITH_TRACING</code></td><td>No</td><td>Enable LangSmith tracing</td><td><code>true</code></td><td><code>false</code></td></tr><tr><td><code>LANGSMITH_ENDPOINT</code></td><td>No</td><td>LangSmith API endpoint</td><td><code>https://api.smith.langchain.com</code></td><td></td></tr><tr><td><code>LANGSMITH_API_KEY</code></td><td>No</td><td>LangSmith API key</td><td></td><td><code>your-api-key</code></td></tr><tr><td><code>LANGSMITH_PROJECT</code></td><td>No</td><td>LangSmith project name</td><td><code>anomaly-agent</code></td><td><code>your-project</code></td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="️-dagster-configuration">⚙️ Dagster Configuration<a href="#️-dagster-configuration" class="hash-link" aria-label="Direct link to ⚙️ Dagster Configuration" title="Direct link to ⚙️ Dagster Configuration">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="core-dagster-settings">Core Dagster Settings<a href="#core-dagster-settings" class="hash-link" aria-label="Direct link to Core Dagster Settings" title="Direct link to Core Dagster Settings">​</a></h3>
<table><thead><tr><th>Variable</th><th>Required</th><th>Description</th><th>Default</th><th>Example</th></tr></thead><tbody><tr><td><code>DAGSTER_LOG_LEVEL</code></td><td>No</td><td>Dagster logging level</td><td><code>DEBUG</code></td><td><code>INFO</code>, <code>WARNING</code>, <code>ERROR</code></td></tr><tr><td><code>DAGSTER_CONCURRENCY</code></td><td>No</td><td>Number of concurrent jobs</td><td><code>4</code></td><td><code>8</code></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="dagster-directories">Dagster Directories<a href="#dagster-directories" class="hash-link" aria-label="Direct link to Dagster Directories" title="Direct link to Dagster Directories">​</a></h3>
<p>Lightweight defaults to prevent disk space issues.</p>
<table><thead><tr><th>Variable</th><th>Required</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td><code>ANOMSTACK_DAGSTER_LOCAL_ARTIFACT_STORAGE_DIR</code></td><td>No</td><td>Artifacts storage directory</td><td><code>tmp_light/artifacts</code></td></tr><tr><td><code>ANOMSTACK_DAGSTER_OVERALL_CONCURRENCY_LIMIT</code></td><td>No</td><td>Overall concurrency limit</td><td><code>5</code></td></tr><tr><td><code>ANOMSTACK_DAGSTER_DEQUEUE_USE_THREADS</code></td><td>No</td><td>Use threads for dequeuing</td><td><code>false</code></td></tr><tr><td><code>ANOMSTACK_DAGSTER_DEQUEUE_NUM_WORKERS</code></td><td>No</td><td>Number of dequeue workers</td><td><code>2</code></td></tr><tr><td><code>ANOMSTACK_DAGSTER_LOCAL_COMPUTE_LOG_MANAGER_DIRECTORY</code></td><td>No</td><td>Compute logs directory</td><td><code>tmp_light/compute_logs</code></td></tr><tr><td><code>ANOMSTACK_DAGSTER_SQLITE_STORAGE_BASE_DIR</code></td><td>No</td><td>SQLite storage base directory</td><td><code>tmp_light/storage</code></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="job-timeout-configuration">Job Timeout Configuration<a href="#job-timeout-configuration" class="hash-link" aria-label="Direct link to Job Timeout Configuration" title="Direct link to Job Timeout Configuration">​</a></h3>
<table><thead><tr><th>Variable</th><th>Required</th><th>Description</th><th>Default</th><th>Example</th></tr></thead><tbody><tr><td><code>ANOMSTACK_MAX_RUNTIME_SECONDS_TAG</code></td><td>No</td><td>Max job runtime in seconds</td><td><code>3600</code></td><td><code>7200</code></td></tr><tr><td><code>ANOMSTACK_KILL_RUN_AFTER_MINUTES</code></td><td>No</td><td>Kill long-running jobs after N minutes</td><td><code>60</code></td><td><code>120</code></td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-docker--deployment">🐳 Docker &amp; Deployment<a href="#-docker--deployment" class="hash-link" aria-label="Direct link to 🐳 Docker &amp; Deployment" title="Direct link to 🐳 Docker &amp; Deployment">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="postgresql-docker">PostgreSQL (Docker)<a href="#postgresql-docker" class="hash-link" aria-label="Direct link to PostgreSQL (Docker)" title="Direct link to PostgreSQL (Docker)">​</a></h3>
<p>Database for Dagster metadata when using Docker.</p>
<table><thead><tr><th>Variable</th><th>Required</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td><code>ANOMSTACK_POSTGRES_USER</code></td><td>No</td><td>PostgreSQL username</td><td><code>postgres_user</code></td></tr><tr><td><code>ANOMSTACK_POSTGRES_PASSWORD</code></td><td>No</td><td>PostgreSQL password</td><td><code>postgres_password</code></td></tr><tr><td><code>ANOMSTACK_POSTGRES_DB</code></td><td>No</td><td>PostgreSQL database name</td><td><code>postgres_db</code></td></tr><tr><td><code>ANOMSTACK_POSTGRES_FORWARD_PORT</code></td><td>No</td><td>Local port forwarding</td><td><code>5432</code> (leave blank to disable)</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="dashboard-configuration">Dashboard Configuration<a href="#dashboard-configuration" class="hash-link" aria-label="Direct link to Dashboard Configuration" title="Direct link to Dashboard Configuration">​</a></h3>
<table><thead><tr><th>Variable</th><th>Required</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td><code>ANOMSTACK_DASHBOARD_PORT</code></td><td>No</td><td>Dashboard port</td><td><code>5001</code></td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-advanced-configuration">🔧 Advanced Configuration<a href="#-advanced-configuration" class="hash-link" aria-label="Direct link to 🔧 Advanced Configuration" title="Direct link to 🔧 Advanced Configuration">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-metrics">Example Metrics<a href="#example-metrics" class="hash-link" aria-label="Direct link to Example Metrics" title="Direct link to Example Metrics">​</a></h3>
<table><thead><tr><th>Variable</th><th>Required</th><th>Description</th><th>Default</th><th>Options</th></tr></thead><tbody><tr><td><code>ANOMSTACK_IGNORE_EXAMPLES</code></td><td>No</td><td>Ignore example metrics</td><td><code>no</code></td><td><code>yes</code>, <code>no</code></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="auto-reload-configuration">Auto-Reload Configuration<a href="#auto-reload-configuration" class="hash-link" aria-label="Direct link to Auto-Reload Configuration" title="Direct link to Auto-Reload Configuration">​</a></h3>
<p>Automatically reload configuration when files change.</p>
<table><thead><tr><th>Variable</th><th>Required</th><th>Description</th><th>Default</th><th>Example</th></tr></thead><tbody><tr><td><code>ANOMSTACK_AUTO_CONFIG_RELOAD</code></td><td>No</td><td>Enable scheduled config reload</td><td><code>false</code></td><td><code>true</code></td></tr><tr><td><code>ANOMSTACK_CONFIG_RELOAD_CRON</code></td><td>No</td><td>Config reload schedule</td><td><code>*/5 * * * *</code></td><td><code>*/10 * * * *</code></td></tr><tr><td><code>ANOMSTACK_CONFIG_RELOAD_STATUS</code></td><td>No</td><td>Config reload job status</td><td><code>STOPPED</code></td><td><code>RUNNING</code></td></tr><tr><td><code>ANOMSTACK_CONFIG_WATCHER</code></td><td>No</td><td>Enable smart file watcher</td><td><code>true</code></td><td><code>false</code></td></tr><tr><td><code>ANOMSTACK_CONFIG_WATCHER_INTERVAL</code></td><td>No</td><td>File watcher check interval (seconds)</td><td><code>30</code></td><td><code>60</code></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="analytics">Analytics<a href="#analytics" class="hash-link" aria-label="Direct link to Analytics" title="Direct link to Analytics">​</a></h3>
<table><thead><tr><th>Variable</th><th>Required</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td><code>POSTHOG_API_KEY</code></td><td>No</td><td>PostHog analytics API key</td><td><code>phc_...</code></td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="️-per-metric-batch-overrides">🎛️ Per-Metric Batch Overrides<a href="#️-per-metric-batch-overrides" class="hash-link" aria-label="Direct link to 🎛️ Per-Metric Batch Overrides" title="Direct link to 🎛️ Per-Metric Batch Overrides">​</a></h2>
<p>You can override any configuration parameter for specific metric batches using environment variables:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ANOMSTACK__&lt;METRIC_BATCH&gt;__&lt;PARAMETER&gt;=&lt;VALUE&gt;</span><br></span></code></pre></div></div>
<p><strong>Format Rules:</strong></p>
<ul>
<li><code>&lt;METRIC_BATCH&gt;</code>: Uppercase metric batch name with dashes replaced by underscores</li>
<li><code>&lt;PARAMETER&gt;</code>: Uppercase parameter name with underscores</li>
</ul>
<p><strong>Examples:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Override database for python_ingest_simple metric batch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ANOMSTACK__PYTHON_INGEST_SIMPLE__DB=bigquery</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Override alert methods </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ANOMSTACK__PYTHON_INGEST_SIMPLE__ALERT_METHODS=email</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Override schedule</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ANOMSTACK__PYTHON_INGEST_SIMPLE__INGEST_CRON_SCHEDULE=&quot;*/1 * * * *&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Enable specific job schedules</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ANOMSTACK__PYTHON_INGEST_SIMPLE__INGEST_DEFAULT_SCHEDULE_STATUS=RUNNING</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ANOMSTACK__PYTHON_INGEST_SIMPLE__TRAIN_DEFAULT_SCHEDULE_STATUS=RUNNING</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ANOMSTACK__PYTHON_INGEST_SIMPLE__SCORE_DEFAULT_SCHEDULE_STATUS=RUNNING</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ANOMSTACK__PYTHON_INGEST_SIMPLE__ALERT_DEFAULT_SCHEDULE_STATUS=RUNNING</span><br></span></code></pre></div></div>
<p>This allows you to configure different metric batches differently without modifying YAML files.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-common-configuration-patterns">📝 Common Configuration Patterns<a href="#-common-configuration-patterns" class="hash-link" aria-label="Direct link to 📝 Common Configuration Patterns" title="Direct link to 📝 Common Configuration Patterns">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="development-setup">Development Setup<a href="#development-setup" class="hash-link" aria-label="Direct link to Development Setup" title="Direct link to Development Setup">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Use local storage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ANOMSTACK_DUCKDB_PATH=tmpdata/anomstack-duckdb.db</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ANOMSTACK_MODEL_PATH=local://./tmp/models</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ANOMSTACK_IGNORE_EXAMPLES=no</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Basic email alerts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ANOMSTACK_ALERT_EMAIL_FROM=dev@company.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ANOMSTACK_ALERT_EMAIL_TO=developer@company.com</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="production-setup">Production Setup<a href="#production-setup" class="hash-link" aria-label="Direct link to Production Setup" title="Direct link to Production Setup">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Use cloud storage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ANOMSTACK_MODEL_PATH=gs://company-anomstack/models</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ANOMSTACK_DUCKDB_PATH=/data/anomstack.db</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Production alerts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ANOMSTACK_ALERT_EMAIL_FROM=alerts@company.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ANOMSTACK_ALERT_EMAIL_TO=ops-team@company.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ANOMSTACK_SLACK_CHANNEL=#production-alerts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Disable examples</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ANOMSTACK_IGNORE_EXAMPLES=yes</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="bigquery--gcs-setup">BigQuery + GCS Setup<a href="#bigquery--gcs-setup" class="hash-link" aria-label="Direct link to BigQuery + GCS Setup" title="Direct link to BigQuery + GCS Setup">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># BigQuery connection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ANOMSTACK_GCP_PROJECT_ID=your-project-id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ANOMSTACK_GOOGLE_APPLICATION_CREDENTIALS=/path/to/credentials.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Use GCS for model storage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ANOMSTACK_MODEL_PATH=gs://your-bucket/models</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># BigQuery table for metrics</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ANOMSTACK_TABLE_KEY=your_dataset.metrics</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-security-best-practices">🔐 Security Best Practices<a href="#-security-best-practices" class="hash-link" aria-label="Direct link to 🔐 Security Best Practices" title="Direct link to 🔐 Security Best Practices">​</a></h2>
<ol>
<li><strong>Use environment files</strong>: Never commit <code>.env</code> files with secrets to version control</li>
<li><strong>Rotate credentials</strong>: Regularly rotate API keys and passwords</li>
<li><strong>Least privilege</strong>: Use service accounts with minimal required permissions</li>
<li><strong>Secrets management</strong>: Consider using proper secrets management in production (AWS Secrets Manager, Google Secret Manager, etc.)</li>
<li><strong>File permissions</strong>: Restrict access to your <code>.env</code> file (<code>chmod 600 .env</code>)</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-troubleshooting">🆘 Troubleshooting<a href="#-troubleshooting" class="hash-link" aria-label="Direct link to 🆘 Troubleshooting" title="Direct link to 🆘 Troubleshooting">​</a></h2>
<p><strong>Environment not loading?</strong></p>
<ul>
<li>Ensure <code>.env</code> file exists in the project root</li>
<li>Check file permissions and syntax</li>
<li>Verify no extra spaces around <code>=</code> signs</li>
</ul>
<p><strong>Docker not picking up changes?</strong></p>
<ul>
<li>Restart containers: <code>make docker-stop &amp;&amp; make docker</code></li>
<li>Check if environment is properly mounted</li>
</ul>
<p><strong>Database connection issues?</strong></p>
<ul>
<li>Verify credentials and network access</li>
<li>Test connections independently</li>
<li>Check firewall and VPN settings</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/andrewm4894/anomstack/tree/main/docs/docs/configuration/environment-variables.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/anomstack/docs/storage-optimization"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Storage Optimization</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/anomstack/docs/configuration/metrics"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Metrics Configuration</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#️-database--data-sources" class="table-of-contents__link toc-highlight">🗄️ Database &amp; Data Sources</a><ul><li><a href="#google-cloud-platform" class="table-of-contents__link toc-highlight">Google Cloud Platform</a></li><li><a href="#snowflake" class="table-of-contents__link toc-highlight">Snowflake</a></li><li><a href="#aws" class="table-of-contents__link toc-highlight">AWS</a></li><li><a href="#clickhouse" class="table-of-contents__link toc-highlight">ClickHouse</a></li><li><a href="#motherduck--turso" class="table-of-contents__link toc-highlight">MotherDuck &amp; Turso</a></li></ul></li><li><a href="#-storage-configuration" class="table-of-contents__link toc-highlight">💾 Storage Configuration</a><ul><li><a href="#database-paths" class="table-of-contents__link toc-highlight">Database Paths</a></li><li><a href="#model-storage" class="table-of-contents__link toc-highlight">Model Storage</a></li><li><a href="#application-paths" class="table-of-contents__link toc-highlight">Application Paths</a></li></ul></li><li><a href="#-alert-configuration" class="table-of-contents__link toc-highlight">📧 Alert Configuration</a><ul><li><a href="#email-alerts" class="table-of-contents__link toc-highlight">Email Alerts</a></li><li><a href="#failure-email-alerts" class="table-of-contents__link toc-highlight">Failure Email Alerts</a></li><li><a href="#slack-alerts" class="table-of-contents__link toc-highlight">Slack Alerts</a></li></ul></li><li><a href="#-llm-integration" class="table-of-contents__link toc-highlight">🤖 LLM Integration</a><ul><li><a href="#openai" class="table-of-contents__link toc-highlight">OpenAI</a></li><li><a href="#anthropic" class="table-of-contents__link toc-highlight">Anthropic</a></li><li><a href="#llm-platform-selection" class="table-of-contents__link toc-highlight">LLM Platform Selection</a></li><li><a href="#langsmith-tracing" class="table-of-contents__link toc-highlight">LangSmith Tracing</a></li></ul></li><li><a href="#️-dagster-configuration" class="table-of-contents__link toc-highlight">⚙️ Dagster Configuration</a><ul><li><a href="#core-dagster-settings" class="table-of-contents__link toc-highlight">Core Dagster Settings</a></li><li><a href="#dagster-directories" class="table-of-contents__link toc-highlight">Dagster Directories</a></li><li><a href="#job-timeout-configuration" class="table-of-contents__link toc-highlight">Job Timeout Configuration</a></li></ul></li><li><a href="#-docker--deployment" class="table-of-contents__link toc-highlight">🐳 Docker &amp; Deployment</a><ul><li><a href="#postgresql-docker" class="table-of-contents__link toc-highlight">PostgreSQL (Docker)</a></li><li><a href="#dashboard-configuration" class="table-of-contents__link toc-highlight">Dashboard Configuration</a></li></ul></li><li><a href="#-advanced-configuration" class="table-of-contents__link toc-highlight">🔧 Advanced Configuration</a><ul><li><a href="#example-metrics" class="table-of-contents__link toc-highlight">Example Metrics</a></li><li><a href="#auto-reload-configuration" class="table-of-contents__link toc-highlight">Auto-Reload Configuration</a></li><li><a href="#analytics" class="table-of-contents__link toc-highlight">Analytics</a></li></ul></li><li><a href="#️-per-metric-batch-overrides" class="table-of-contents__link toc-highlight">🎛️ Per-Metric Batch Overrides</a></li><li><a href="#-common-configuration-patterns" class="table-of-contents__link toc-highlight">📝 Common Configuration Patterns</a><ul><li><a href="#development-setup" class="table-of-contents__link toc-highlight">Development Setup</a></li><li><a href="#production-setup" class="table-of-contents__link toc-highlight">Production Setup</a></li><li><a href="#bigquery--gcs-setup" class="table-of-contents__link toc-highlight">BigQuery + GCS Setup</a></li></ul></li><li><a href="#-security-best-practices" class="table-of-contents__link toc-highlight">🔐 Security Best Practices</a></li><li><a href="#-troubleshooting" class="table-of-contents__link toc-highlight">🆘 Troubleshooting</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/anomstack/docs/intro">Docs</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/andrewm4894/anomstack/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Discussions<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/andrewm4894/anomstack" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 andrewm4894. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>