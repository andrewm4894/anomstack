"use strict";(self.webpackChunkanomstack=self.webpackChunkanomstack||[]).push([[7445],{4252:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>t,default:()=>_,frontMatter:()=>l,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"deployment/profiles","title":"Deployment Profiles","description":"Deployment profiles act like \\"Helm values files\\" for Anomstack, allowing you to configure different environments without modifying the original metric batch examples. This approach gives you environment-specific overlays while keeping examples pristine as templates for users.","source":"@site/docs/deployment/profiles.md","sourceDirName":"deployment","slug":"/deployment/profiles","permalink":"/anomstack/docs/deployment/profiles","draft":false,"unlisted":false,"editUrl":"https://github.com/andrewm4894/anomstack/tree/main/docs/docs/deployment/profiles.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2}}');var r=i(4848),s=i(8453);const l={sidebar_position:2},t="Deployment Profiles",a={},c=[{value:"Overview",id:"overview",level:2},{value:"Key Benefits",id:"key-benefits",level:3},{value:"How It Works",id:"how-it-works",level:2},{value:"Configuration Layering",id:"configuration-layering",level:3},{value:"Available Profiles",id:"available-profiles",level:2},{value:"Demo Profile (<code>profiles/demo.env</code>)",id:"demo-profile-profilesdemoenv",level:3},{value:"Production Profile (<code>profiles/production.env</code>)",id:"production-profile-profilesproductionenv",level:3},{value:"Development Profile (<code>profiles/development.env</code>)",id:"development-profile-profilesdevelopmentenv",level:3},{value:"Using Profiles",id:"using-profiles",level:2},{value:"Deployment Commands",id:"deployment-commands",level:3},{value:"Preview Commands",id:"preview-commands",level:3},{value:"Configuration Precedence",id:"configuration-precedence",level:3},{value:"Creating Custom Profiles",id:"creating-custom-profiles",level:2},{value:"Company-Specific Profile",id:"company-specific-profile",level:3},{value:"Multi-Environment Setup",id:"multi-environment-setup",level:3},{value:"Environment Variable Format",id:"environment-variable-format",level:2},{value:"Format",id:"format",level:3},{value:"Common Parameters",id:"common-parameters",level:3},{value:"Profile Composition Workflows",id:"profile-composition-workflows",level:2},{value:"For Demo Creators",id:"for-demo-creators",level:3},{value:"For Production Teams",id:"for-production-teams",level:3},{value:"For Multi-Tenant SaaS",id:"for-multi-tenant-saas",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Profile Organization",id:"profile-organization",level:3},{value:"Security",id:"security",level:3},{value:"Testing",id:"testing",level:3},{value:"Documentation",id:"documentation",level:3},{value:"Related Documentation",id:"related-documentation",level:2}];function d(e){const n={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"deployment-profiles",children:"Deployment Profiles"})}),"\n",(0,r.jsx)(n.p,{children:'Deployment profiles act like "Helm values files" for Anomstack, allowing you to configure different environments without modifying the original metric batch examples. This approach gives you environment-specific overlays while keeping examples pristine as templates for users.'}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"Deployment profiles solve the common problem of wanting different configurations for different environments (demo, production, development) without duplicating code or modifying the original example metric batches."}),"\n",(0,r.jsx)(n.h3,{id:"key-benefits",children:"Key Benefits"}),"\n",(0,r.jsxs)(n.p,{children:["\u2705 ",(0,r.jsx)(n.strong,{children:"Keep examples pristine"})," - Original examples remain as clean templates for users",(0,r.jsx)(n.br,{}),"\n","\u2705 ",(0,r.jsx)(n.strong,{children:"Environment-specific configs"})," - Different settings for demo, dev, production",(0,r.jsx)(n.br,{}),"\n","\u2705 ",(0,r.jsx)(n.strong,{children:"Source controlled"})," - All configurations are versioned and shareable",(0,r.jsx)(n.br,{}),"\n","\u2705 ",(0,r.jsx)(n.strong,{children:"User-friendly"})," - Others can easily redeploy your exact configuration",(0,r.jsx)(n.br,{}),"\n","\u2705 ",(0,r.jsx)(n.strong,{children:"Flexible layering"})," - Secrets in ",(0,r.jsx)(n.code,{children:".env"}),", configs in profiles",(0,r.jsx)(n.br,{}),"\n","\u2705 ",(0,r.jsx)(n.strong,{children:"Hot-reloadable"})," - Changes can be applied without container restarts"]}),"\n",(0,r.jsx)(n.h2,{id:"how-it-works",children:"How It Works"}),"\n",(0,r.jsxs)(n.p,{children:["Profiles use Anomstack's existing environment variable override system (",(0,r.jsx)(n.code,{children:"ANOMSTACK__<METRIC_BATCH>__<PARAMETER>"}),") to enable and configure metric batches at deployment time."]}),"\n",(0,r.jsx)(n.h3,{id:"configuration-layering",children:"Configuration Layering"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:["Your ",(0,r.jsx)(n.code,{children:".env"})," file"]}),": API keys, secrets, personal settings"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Profile overlay"}),": Environment-specific metric batch configurations"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Merged deployment"}),": Combined configuration sent as deployment secrets"]}),"\n"]}),"\n",(0,r.jsx)(n.mermaid,{value:'graph LR\n    ENV[".env<br/>\ud83d\udd10 Secrets & Personal"] --\x3e MERGE[Deployment<br/>Merger]\n    PROFILE["Profile<br/>\ud83c\udfaf Environment Config"] --\x3e MERGE\n    MERGE --\x3e DEPLOY["\ud83d\ude80 Deployment<br/>Combined Config"]'}),"\n",(0,r.jsx)(n.h2,{id:"available-profiles",children:"Available Profiles"}),"\n",(0,r.jsxs)(n.h3,{id:"demo-profile-profilesdemoenv",children:["Demo Profile (",(0,r.jsx)(n.code,{children:"profiles/demo.env"}),")"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Configuration for public demo instances",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Use Case"}),": Showcase Anomstack capabilities with real examples"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Enable examples for demo visibility\nANOMSTACK_IGNORE_EXAMPLES=no\n\n# Enable netdata infrastructure monitoring demo\nANOMSTACK__NETDATA__INGEST_DEFAULT_SCHEDULE_STATUS=RUNNING\nANOMSTACK__NETDATA__TRAIN_DEFAULT_SCHEDULE_STATUS=RUNNING\nANOMSTACK__NETDATA__SCORE_DEFAULT_SCHEDULE_STATUS=RUNNING\nANOMSTACK__NETDATA__ALERT_DEFAULT_SCHEDULE_STATUS=RUNNING\nANOMSTACK__NETDATA__CHANGE_DEFAULT_SCHEDULE_STATUS=RUNNING\nANOMSTACK__NETDATA__LLMALERT_DEFAULT_SCHEDULE_STATUS=RUNNING\nANOMSTACK__NETDATA__PLOT_DEFAULT_SCHEDULE_STATUS=RUNNING\nANOMSTACK__NETDATA__ALERT_ALWAYS=True\nANOMSTACK__NETDATA__ALERT_METHODS=email\n\n# Enable weather API integration demo\nANOMSTACK__WEATHER__INGEST_DEFAULT_SCHEDULE_STATUS=RUNNING\nANOMSTACK__WEATHER__TRAIN_DEFAULT_SCHEDULE_STATUS=RUNNING\nANOMSTACK__WEATHER__SCORE_DEFAULT_SCHEDULE_STATUS=RUNNING\nANOMSTACK__WEATHER__ALERT_DEFAULT_SCHEDULE_STATUS=RUNNING\nANOMSTACK__WEATHER__INGEST_CRON_SCHEDULE=*/30 * * * *\n\n# Enable hackernews viral detection demo\nANOMSTACK__HN_TOP_STORIES_SCORES__INGEST_DEFAULT_SCHEDULE_STATUS=RUNNING\nANOMSTACK__HN_TOP_STORIES_SCORES__TRAIN_DEFAULT_SCHEDULE_STATUS=RUNNING\nANOMSTACK__HN_TOP_STORIES_SCORES__SCORE_DEFAULT_SCHEDULE_STATUS=RUNNING\nANOMSTACK__HN_TOP_STORIES_SCORES__ALERT_DEFAULT_SCHEDULE_STATUS=RUNNING\n\n# Demo-specific global settings\nANOMSTACK_ALERT_EMAIL_FROM=demo@anomstack.com\nANOMSTACK_TABLE_KEY=demo_metrics\nANOMSTACK_LLM_PLATFORM=openai\nANOMSTACK_OPENAI_MODEL=gpt-4o-mini\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"production-profile-profilesproductionenv",children:["Production Profile (",(0,r.jsx)(n.code,{children:"profiles/production.env"}),")"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Production-ready deployment template",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Use Case"}),": Conservative, focused production deployments"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Disable examples in production for clean deployment\nANOMSTACK_IGNORE_EXAMPLES=yes\n\n# Production-grade database configuration\nANOMSTACK_TABLE_KEY=production.metrics\nANOMSTACK_MODEL_PATH=gs://your-company-models/anomstack/\n\n# Reliable email alerting\nANOMSTACK_ALERT_EMAIL_FROM=anomstack-alerts@yourcompany.com\nANOMSTACK_ALERT_EMAIL_TO=ops-team@yourcompany.com,data-team@yourcompany.com\n\n# Conservative alert settings\nANOMSTACK_ALERT_THRESHOLD=0.8\nANOMSTACK_ALERT_METRIC_TIMESTAMP_MAX_DAYS_AGO=7\n\n# Production LLM settings\nANOMSTACK_LLM_PLATFORM=anthropic\nANOMSTACK_ANTHROPIC_MODEL=claude-3-sonnet-20240229\n\n# Production Dagster settings\nANOMSTACK_DAGSTER_OVERALL_CONCURRENCY_LIMIT=3\nANOMSTACK_MAX_RUNTIME_SECONDS_TAG=7200\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"development-profile-profilesdevelopmentenv",children:["Development Profile (",(0,r.jsx)(n.code,{children:"profiles/development.env"}),")"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Purpose"}),": Development and staging environments",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Use Case"}),": Testing with all examples enabled and sensitive settings"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Enable all examples for development testing\nANOMSTACK_IGNORE_EXAMPLES=no\n\n# Development database configuration\nANOMSTACK_TABLE_KEY=dev_metrics\nANOMSTACK_MODEL_PATH=local://./tmp/models\n\n# Development-friendly alert settings\nANOMSTACK_ALERT_EMAIL_FROM=dev-anomstack@yourcompany.com\nANOMSTACK_ALERT_EMAIL_TO=dev-team@yourcompany.com\nANOMSTACK_ALERT_THRESHOLD=0.6\nANOMSTACK_ALERT_ALWAYS=True\n\n# Enable hot reload features for development\nANOMSTACK_AUTO_CONFIG_RELOAD=true\nANOMSTACK_CONFIG_WATCHER=true\nANOMSTACK_CONFIG_WATCHER_INTERVAL=30\n\n# Enable key examples for development testing\nANOMSTACK__PYTHON_INGEST_SIMPLE__INGEST_DEFAULT_SCHEDULE_STATUS=RUNNING\nANOMSTACK__PYTHON_INGEST_SIMPLE__TRAIN_DEFAULT_SCHEDULE_STATUS=RUNNING\nANOMSTACK__PYTHON_INGEST_SIMPLE__SCORE_DEFAULT_SCHEDULE_STATUS=RUNNING\nANOMSTACK__PYTHON_INGEST_SIMPLE__ALERT_DEFAULT_SCHEDULE_STATUS=RUNNING\n\nANOMSTACK__EXAMPLE_SIMPLE__INGEST_DEFAULT_SCHEDULE_STATUS=RUNNING\nANOMSTACK__EXAMPLE_SIMPLE__TRAIN_DEFAULT_SCHEDULE_STATUS=RUNNING\nANOMSTACK__EXAMPLE_SIMPLE__SCORE_DEFAULT_SCHEDULE_STATUS=RUNNING\nANOMSTACK__EXAMPLE_SIMPLE__ALERT_DEFAULT_SCHEDULE_STATUS=RUNNING\n"})}),"\n",(0,r.jsx)(n.h2,{id:"using-profiles",children:"Using Profiles"}),"\n",(0,r.jsx)(n.h3,{id:"deployment-commands",children:"Deployment Commands"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"With Makefile (recommended):"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Deploy demo instance (enables key examples)\nmake fly-deploy-demo\n\n# Deploy production instance (clean, focused)  \nmake fly-deploy-production\n\n# Deploy development instance (all examples enabled)\nmake fly-deploy-development\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"With deployment script:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Deploy with specific profile\n./scripts/deployment/deploy_fly.sh --profile demo my-demo-app\n\n# Deploy with default app name\n./scripts/deployment/deploy_fly.sh --profile production\n"})}),"\n",(0,r.jsx)(n.h3,{id:"preview-commands",children:"Preview Commands"}),"\n",(0,r.jsx)(n.p,{children:"Always preview your deployment configuration before deploying:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Preview demo deployment\nmake fly-preview-demo\n\n# Preview production deployment\nmake fly-preview-production\n\n# Preview with script\n./scripts/deployment/preview_fly_secrets.sh --profile demo\n"})}),"\n",(0,r.jsx)(n.h3,{id:"configuration-precedence",children:"Configuration Precedence"}),"\n",(0,r.jsxs)(n.p,{children:["Profiles override your personal ",(0,r.jsx)(n.code,{children:".env"})," settings while preserving secrets:"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example precedence:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Your .env file (base layer - secrets preserved)\nANOMSTACK_OPENAI_KEY=sk-your-secret-key        # \u2705 Preserved\nANOMSTACK_ALERT_EMAIL_FROM=you@company.com     # \u2705 Preserved  \nANOMSTACK_TABLE_KEY=my_personal_metrics        # \u274c Will be overridden\n\n# Profile layer (demo.env - takes precedence)\nANOMSTACK_TABLE_KEY=demo_metrics               # \u2705 Wins!\nANOMSTACK_IGNORE_EXAMPLES=no                   # \u2705 Added\nANOMSTACK__NETDATA__INGEST_DEFAULT_SCHEDULE_STATUS=RUNNING  # \u2705 Added\n\n# Final deployment result\nANOMSTACK_OPENAI_KEY=sk-your-secret-key        # From .env\nANOMSTACK_ALERT_EMAIL_FROM=you@company.com     # From .env\nANOMSTACK_TABLE_KEY=demo_metrics               # From profile\nANOMSTACK_IGNORE_EXAMPLES=no                   # From profile\nANOMSTACK__NETDATA__INGEST_DEFAULT_SCHEDULE_STATUS=RUNNING  # From profile\n"})}),"\n",(0,r.jsx)(n.h2,{id:"creating-custom-profiles",children:"Creating Custom Profiles"}),"\n",(0,r.jsx)(n.h3,{id:"company-specific-profile",children:"Company-Specific Profile"}),"\n",(0,r.jsx)(n.p,{children:"Create profiles tailored to your organization:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Create custom profile\ncat > profiles/acme-corp.env << EOF\n# ACME Corp Production Anomstack Profile\nANOMSTACK_IGNORE_EXAMPLES=yes\nANOMSTACK_TABLE_KEY=acme.production.metrics\nANOMSTACK_MODEL_PATH=gs://acme-ml-models/anomstack/\n\n# Enable ACME-specific metric batches\nANOMSTACK__SALES_METRICS__INGEST_DEFAULT_SCHEDULE_STATUS=RUNNING\nANOMSTACK__SALES_METRICS__TRAIN_DEFAULT_SCHEDULE_STATUS=RUNNING\nANOMSTACK__SALES_METRICS__SCORE_DEFAULT_SCHEDULE_STATUS=RUNNING\nANOMSTACK__SALES_METRICS__ALERT_DEFAULT_SCHEDULE_STATUS=RUNNING\n\nANOMSTACK__USER_METRICS__INGEST_DEFAULT_SCHEDULE_STATUS=RUNNING\nANOMSTACK__USER_METRICS__TRAIN_DEFAULT_SCHEDULE_STATUS=RUNNING\nANOMSTACK__USER_METRICS__SCORE_DEFAULT_SCHEDULE_STATUS=RUNNING\nANOMSTACK__USER_METRICS__ALERT_DEFAULT_SCHEDULE_STATUS=RUNNING\n\n# ACME alert configuration\nANOMSTACK_ALERT_EMAIL_FROM=anomstack@acme-corp.com\nANOMSTACK_ALERT_EMAIL_TO=data-team@acme-corp.com,ops@acme-corp.com\nANOMSTACK_SLACK_CHANNEL=#data-alerts\nEOF\n\n# Deploy with custom profile\n./scripts/deployment/deploy_fly.sh --profile acme-corp acme-anomstack-prod\n"})}),"\n",(0,r.jsx)(n.h3,{id:"multi-environment-setup",children:"Multi-Environment Setup"}),"\n",(0,r.jsx)(n.p,{children:"Use different profiles for different environments:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Development environment\n./scripts/deployment/deploy_fly.sh --profile development acme-anomstack-dev\n\n# Staging environment (using production profile as base)\n./scripts/deployment/deploy_fly.sh --profile production acme-anomstack-staging\n\n# Production environment  \n./scripts/deployment/deploy_fly.sh --profile acme-corp acme-anomstack-prod\n\n# Demo environment for stakeholders\n./scripts/deployment/deploy_fly.sh --profile demo acme-anomstack-demo\n"})}),"\n",(0,r.jsx)(n.h2,{id:"environment-variable-format",children:"Environment Variable Format"}),"\n",(0,r.jsx)(n.p,{children:"Profiles use Anomstack's metric batch override system:"}),"\n",(0,r.jsx)(n.h3,{id:"format",children:"Format"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ANOMSTACK__<METRIC_BATCH>__<PARAMETER>=<VALUE>\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Rules:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"<METRIC_BATCH>"}),": Uppercase metric batch name with dashes replaced by underscores"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"<PARAMETER>"}),": Uppercase parameter name"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"<VALUE>"}),": The configuration value"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"common-parameters",children:"Common Parameters"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Schedule Controls:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ANOMSTACK__BATCH_NAME__INGEST_DEFAULT_SCHEDULE_STATUS=RUNNING\nANOMSTACK__BATCH_NAME__TRAIN_DEFAULT_SCHEDULE_STATUS=RUNNING\nANOMSTACK__BATCH_NAME__SCORE_DEFAULT_SCHEDULE_STATUS=RUNNING\nANOMSTACK__BATCH_NAME__ALERT_DEFAULT_SCHEDULE_STATUS=RUNNING\nANOMSTACK__BATCH_NAME__CHANGE_DEFAULT_SCHEDULE_STATUS=RUNNING\nANOMSTACK__BATCH_NAME__LLMALERT_DEFAULT_SCHEDULE_STATUS=RUNNING\nANOMSTACK__BATCH_NAME__PLOT_DEFAULT_SCHEDULE_STATUS=RUNNING\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Alert Configuration:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ANOMSTACK__BATCH_NAME__ALERT_METHODS=email,slack\nANOMSTACK__BATCH_NAME__ALERT_THRESHOLD=0.7\nANOMSTACK__BATCH_NAME__ALERT_ALWAYS=True\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Scheduling:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'ANOMSTACK__BATCH_NAME__INGEST_CRON_SCHEDULE="*/15 * * * *"\nANOMSTACK__BATCH_NAME__TRAIN_CRON_SCHEDULE="*/60 * * * *"\n'})}),"\n",(0,r.jsx)(n.h2,{id:"profile-composition-workflows",children:"Profile Composition Workflows"}),"\n",(0,r.jsx)(n.h3,{id:"for-demo-creators",children:"For Demo Creators"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Develop your demo configuration"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Test locally first\ncp profiles/demo.env .env\n# Add your API keys to .env\nmake local\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Deploy your demo"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"make fly-deploy-demo my-awesome-demo\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Share with others"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Others can recreate your exact demo\ngit clone your-repo\ncp .example.env .env  # They add their API keys\nmake fly-deploy-demo their-demo-name\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"for-production-teams",children:"For Production Teams"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Create company profile"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"vim profiles/company-prod.env\n# Configure your production-specific settings\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Test in staging"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"./scripts/deployment/deploy_fly.sh --profile company-prod staging-app\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Deploy to production"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"./scripts/deployment/deploy_fly.sh --profile company-prod production-app\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"for-multi-tenant-saas",children:"For Multi-Tenant SaaS"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Create tenant-specific profiles\nvim profiles/tenant-a.env\nvim profiles/tenant-b.env\n\n# Deploy separate instances\n./scripts/deployment/deploy_fly.sh --profile tenant-a tenant-a-anomstack\n./scripts/deployment/deploy_fly.sh --profile tenant-b tenant-b-anomstack\n"})}),"\n",(0,r.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsx)(n.h3,{id:"profile-organization",children:"Profile Organization"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Keep profiles focused"}),": One environment or use case per profile"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Use descriptive names"}),": ",(0,r.jsx)(n.code,{children:"company-production.env"})," vs ",(0,r.jsx)(n.code,{children:"prod.env"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Document purpose"}),": Add comments explaining profile intent"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Version control"}),": Always commit profiles (they don't contain secrets)"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"security",children:"Security"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:["Secrets in ",(0,r.jsx)(n.code,{children:".env"})]}),": Never put API keys or passwords in profiles"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Public profiles"}),": Profiles are source-controlled and visible"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Sensitive overrides"}),": Use deployment-time environment variables for sensitive config"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"testing",children:"Testing"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Always preview"}),": Use ",(0,r.jsx)(n.code,{children:"make fly-preview-<profile>"})," before deploying"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Test in staging"}),": Use profiles in non-production first"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Validate configurations"}),": Ensure all required variables are set"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"documentation",children:"Documentation"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Document your profiles"}),": Add README files explaining custom profiles"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Share examples"}),": Provide example ",(0,r.jsx)(n.code,{children:".env"})," files for your profiles"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Update regularly"}),": Keep profiles in sync with new features"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"/anomstack/docs/configuration/environment-variables",children:"Environment Variables"})})," - Complete list of available environment variables"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"/anomstack/docs/configuration/metrics",children:"Metrics Configuration"})})," - How to configure metric batches"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"/anomstack/docs/deployment/fly",children:"Fly.io Deployment"})})," - Fly.io-specific deployment details"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"/anomstack/docs/configuration/hot-reload",children:"Hot Reload"})})," - Dynamic configuration updates"]}),"\n"]})]})}function _(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>t});var o=i(6540);const r={},s=o.createContext(r);function l(e){const n=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);